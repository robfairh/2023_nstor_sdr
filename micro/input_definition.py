assemblies = {}
# the _C indicates that it is a control assembly
assemblies[1] = [
     '201', '202', '203', '204', '205', '206', '211', '212_C', '213', '214_C',
     '215', '216_C', '217', '218_C', '219', '220_C', '221', '222_C', '231_C',
     '232', '233', '234_C', '235', '236', '237_C', '238', '239', '240_C', '241',
     '242', '243_C', '244', '245', '246_C', '247', '248']

assemblies[2] = [
     '301', '302', '303', '304', '305', '306', '311', '312_C', '313', '314_C',
     '315', '316_C', '317', '318_C', '319', '320_C', '321', '322_C', '331_C',
     '332', '333', '334_C', '335', '336', '337_C', '338', '339', '340_C', '341',
     '342', '343_C', '344', '345', '346_C', '347', '348']

assemblies[3] = [
     '401', '402', '403', '404', '405', '406', '411', '412_C', '413', '414_C',
     '415', '416_C', '417', '418_C', '419', '420_C', '421', '422_C', '431_C',
     '432', '433', '434_C', '435', '436', '437_C', '438', '439', '440_C', '441',
     '442', '443_C', '444', '445', '446_C', '447', '448']

assemblies[4] = [
     '501', '502', '503', '504', '505', '506', '511', '512_C', '513', '514_C',
     '515', '516_C', '517', '518_C', '519', '520_C', '521', '522_C', '531_C',
     '532', '533', '534_C', '535', '536', '537_C', '538', '539', '540_C', '541',
     '542', '543_C', '544', '545', '546_C', '547', '548']


comments = """MicroHTGR MCNP Model
c
"""

source = """c
c Source
c
ksrc   0.0   30.0  102.0
       0.0  -30.0 -102.0
mode   n
kcode   10000  1.005  100  1100"""


def fuel(l, n):

     h = 2*68 - 68*l
     hm = 2*68 - 68*l + 68./2

     surfaces=f"""c
c Layer {l}, Assembly {n}
{n}01  so  0.0250                                         $ Kernel
{n}02  so  0.0350                                         $ Buffer
{n}03  so  0.0390                                         $ InnerPyC
{n}04  so  0.0425                                         $ SiC
{n}05  so  0.0465                                         $ OuterPyC
{n}06  so  2.0
c
{n}07 rpp -0.0508666 0.0508666 -0.0508666 0.0508666 -0.06 0.06
{n}08 rpp -1.160 1.160 -1.160 1.160 -0.0508666 0.0508666
c
{n}10 c/z  0 0    1.150                                   $ Fuel Ch
{n}11 c/z  0 0    1.85
{n}12 c/z  0 0    0.775                                   $ Coolant Ch
{n}13 rhp  0 0 {h}     0 0 68     0  1.6  0
{n}20 c/z  0 0    1.160
"""

     cells=f"""c
c Layer {l}, Assembly {n}
c Triso particles
{n}01 {n}1 -10.8  -{n}01         u={n}4 vol=948.35     imp:n=1 $ Kernel
{n}02 {n}2  -0.98  {n}01 -{n}02  u={n}4                imp:n=1 $ Buffer
{n}03 {n}3  -1.85  {n}02 -{n}03  u={n}4                imp:n=1 $ IPyC
{n}04 {n}4  -3.20  {n}03 -{n}04  u={n}4                imp:n=1 $ SiC
{n}05 {n}3  -1.86  {n}04 -{n}05  u={n}4                imp:n=1 $ OPyC
{n}06 {n}4  -3.20  {n}05         u={n}4                imp:n=1 $ SiC Matrix
{n}07 {n}4  -3.20 -{n}06         u={n}5                imp:n=1 $ SiC Matrix
c
{n}08 0   -{n}07  u={n}6 lat=1 imp:n=1 fill=-11:11 -11:11 0:0  $ Lattice of Particles
     {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 $ Layer
     {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5
     {n}5 {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5 {n}5
     {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5
     {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5
     {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5
     {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5
     {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5
     {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5
     {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5
     {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5
     {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5
     {n}5 {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5 {n}5
     {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5
     {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5
c
{n}20 {n}4  -3.20 -{n}20    u={n}7                imp:n=1 $ SiC Matrix
c
{n}09 0  -{n}08 u={n}8 lat=1 imp:n=1 fill=0:0 0:0 -335:335 {n}7 1R {n}6 666R {n}7 1R
c Fuel/Coolant Channels + Moderator
{n}10 0            -{n}10  u={n}1 fill={n}8  (0 0 {hm:.1f}) imp:n=1 $ Fuel Ch
{n}11 {n}5  -1.75   {n}10 -{n}11  u={n}1 vol=17307.40   imp:n=1 $ Fuel Ch Hex cell
{n}12 {n}6  -1.75  -{n}11         u={n}2 vol=8989.51    imp:n=1 $ Graphite Hex cell
{n}13 1000  -1.5984e-03  -{n}12   u={n}3                imp:n=1 $ Coolant Ch (3MPa, 900K)
{n}14 {n}7  -1.75   {n}12 -{n}11  u={n}3 vol=9019.69    imp:n=1 $ Coolant Ch Hex cell
c
{n}15 0                  -{n}13 u={n}0 lat=2 imp:n=1 fill=-6:6 -6:6 0:0
     {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2
      {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}1 {n}1 {n}2 {n}2 {n}2
       {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}1 {n}1 {n}3 {n}1 {n}1 {n}2 {n}2
        {n}2 {n}2 {n}2 {n}2 {n}1 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}1 {n}2
         {n}2 {n}2 {n}2 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}2
          {n}2 {n}2 {n}2 {n}1 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}1 {n}2 {n}2
           {n}2 {n}2 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}2 {n}2
            {n}2 {n}2 {n}1 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}1 {n}2 {n}2 {n}2
             {n}2 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}2 {n}2 {n}2
              {n}2 {n}1 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}1 {n}2 {n}2 {n}2 {n}2
               {n}2 {n}2 {n}1 {n}1 {n}3 {n}1 {n}1 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2
                {n}2 {n}2 {n}2 {n}1 {n}1 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2
                 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2
"""

     materials=f"""c
c Layer {l}, Assembly {n}
m{n}1  $ Kernel
     92235.00c   4.816186e-03
     92238.00c   1.932238e-02
      8016.00c   4.827713e-02
m{n}2  $ Buffer
      6012.00c   0.9890
      6013.00c   0.0110
mt{n}2 grph.25t
m{n}3  $ Pyrolitic Carbon
      6012.00c   0.9890
      6013.00c   0.0110
mt{n}3 grph.25t
m{n}4  $ Silicon Carbide
     14028.00c   0.4612
     14029.00c   0.0234
     14030.00c   0.0154
      6012.00c   0.4945
      6013.00c   0.0055
mt{n}4 grph.25t
m{n}5  $ Graphite Block - Fuel Ch
      6012.00c   0.9890
      6013.00c   0.0110
mt{n}5 grph.25t
m{n}6  $ Graphite Block - Block
      6012.00c   0.9890
      6013.00c   0.0110
mt{n}6 grph.25t
m{n}7  $ Graphite Block - Coolant Ch
      6012.00c   0.9890
      6013.00c   0.0110
mt{n}7 grph.25t
"""

     return cells, surfaces, materials


def control(l, n):

     h = 2*68 - 68*l
     hm = 2*68 - 68*l + 68./2

     surfaces=f"""c
c Layer {l}, Assembly {n}
{n}01  so  0.0250                                         $ Kernel
{n}02  so  0.0350                                         $ Buffer
{n}03  so  0.0390                                         $ InnerPyC
{n}04  so  0.0425                                         $ SiC
{n}05  so  0.0465                                         $ OuterPyC
{n}06  so  2.0
c
{n}07 rpp -0.0508666 0.0508666 -0.0508666 0.0508666 -0.06 0.06
{n}08 rpp -1.160 1.160 -1.160 1.160 -0.0508666 0.0508666
c
{n}10 c/z  0 0    1.150                                   $ Fuel Ch
{n}11 c/z  0 0    1.85
{n}12 c/z  0 0    0.775                                   $ Coolant Ch
{n}13 rhp  0 0  {h}   0 0 68     0   1.6  0
{n}14 c/z  0 0    4
{n}15 c/z  0 0   17.5
{n}20 c/z  0 0    1.160
"""

     cells=f"""c
c Layer {l}, Assembly {n}
c Triso particles
{n}01 {n}1 -10.8  -{n}01         u={n}4 vol=842.98     imp:n=1 $ Kernel
{n}02 {n}2  -0.98  {n}01 -{n}02  u={n}4                imp:n=1 $ Buffer
{n}03 {n}3  -1.85  {n}02 -{n}03  u={n}4                imp:n=1 $ IPyC
{n}04 {n}4  -3.20  {n}03 -{n}04  u={n}4                imp:n=1 $ SiC
{n}05 {n}3  -1.86  {n}04 -{n}05  u={n}4                imp:n=1 $ OPyC
{n}06 {n}4  -3.20  {n}05         u={n}4                imp:n=1 $ SiC Matrix
{n}07 {n}4  -3.20 -{n}06         u={n}5                imp:n=1 $ SiC Matrix
c
{n}08 0   -{n}07  u={n}6 lat=1 imp:n=1 fill=-11:11 -11:11 0:0  $ Lattice of Particles
     {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 $ Layer
     {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5
     {n}5 {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5 {n}5
     {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5
     {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5
     {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5
     {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5
     {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4
     {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5
     {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5
     {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5
     {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5
     {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5
     {n}5 {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5 {n}5
     {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5
     {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}4 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5 {n}5
c
{n}20 {n}4  -3.20 -{n}20    u={n}7                          imp:n=1 $ SiC Matrix
c
{n}09 0  -{n}08 u={n}8 lat=1 imp:n=1 fill=0:0 0:0 -335:335 {n}7 1R {n}6 666R {n}7 1R
c Fuel/Coolant Channels + Moderator
{n}10 0            -{n}10  u={n}1 fill={n}8  (0 0 {hm:.1f}) imp:n=1 $ Fuel Ch
{n}11 {n}5  -1.75   {n}10 -{n}11  u={n}1 vol=15384.35       imp:n=1 $ Fuel Ch Hex cell
{n}12 {n}6  -1.75  -{n}11         u={n}2 vol=9782.67        imp:n=1 $ Graphite Hex cell
{n}13 1000  -1.5984e-03  -{n}12   u={n}3                    imp:n=1 $ Coolant Ch (3MPa, 900K)
{n}14 {n}7  -1.75   {n}12 -{n}11  u={n}3 vol=8544.97        imp:n=1 $ Coolant Ch Hex cell
c
{n}15 0                  -{n}13 u={n}9 lat=2 imp:n=1 fill=-6:6 -6:6 0:0
     {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2
      {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}1 {n}1 {n}2 {n}2 {n}2
       {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}1 {n}1 {n}3 {n}1 {n}1 {n}2 {n}2
        {n}2 {n}2 {n}2 {n}2 {n}1 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}1 {n}2
         {n}2 {n}2 {n}2 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}2
          {n}2 {n}2 {n}2 {n}1 {n}1 {n}3 {n}2 {n}2 {n}3 {n}1 {n}1 {n}2 {n}2
           {n}2 {n}2 {n}1 {n}3 {n}1 {n}2 {n}2 {n}2 {n}1 {n}3 {n}1 {n}2 {n}2
            {n}2 {n}2 {n}1 {n}1 {n}3 {n}2 {n}2 {n}3 {n}1 {n}1 {n}2 {n}2 {n}2
             {n}2 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}2 {n}2 {n}2
              {n}2 {n}1 {n}1 {n}3 {n}1 {n}1 {n}3 {n}1 {n}1 {n}2 {n}2 {n}2 {n}2
               {n}2 {n}2 {n}1 {n}1 {n}3 {n}1 {n}1 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2
                {n}2 {n}2 {n}2 {n}1 {n}1 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2
                 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2 {n}2
c
{n}16 1000  -1.5984e-03   -{n}14        u={n}0         imp:n=1 $ He (3MPa, 900K)
{n}17 0             {n}14 -{n}15  u={n}0 fill={n}9     imp:n=1
"""

     materials=f"""c
c Layer {l}, Assembly {n}
m{n}1  $ Kernel
     92235.00c   4.816186e-03
     92238.00c   1.932238e-02
      8016.00c   4.827713e-02
m{n}2  $ Buffer
      6012.00c   0.9890
      6013.00c   0.0110
mt{n}2 grph.25t
m{n}3  $ Pyrolitic Carbon
      6012.00c   0.9890
      6013.00c   0.0110
mt{n}3 grph.25t
m{n}4  $ Silicon Carbide
     14028.00c   0.4612
     14029.00c   0.0234
     14030.00c   0.0154
      6012.00c   0.4945
      6013.00c   0.0055
mt{n}4 grph.25t
m{n}5  $ Graphite Block - Fuel Ch
      6012.00c   0.9890
      6013.00c   0.0110
mt{n}5 grph.25t
m{n}6  $ Graphite Block - Block
      6012.00c   0.9890
      6013.00c   0.0110
mt{n}6 grph.25t
m{n}7  $ Graphite Block - Coolant Ch
      6012.00c   0.9890
      6013.00c   0.0110
mt{n}7 grph.25t
"""

     return cells, surfaces, materials


def reflector():

     surfaces = """c
c Layer 1, radial reflector
9000 c/z  0 0  17.5
9001 rhp  0 0  68   0 0  68     0  15  0
c
c Layer 2, radial reflector
9002 c/z  0 0  17.5
9003 rhp  0 0   0   0 0  68     0  15  0
c
c Layer 3, radial reflector
9004 c/z  0 0  17.5
9005 rhp  0 0 -68   0 0  68     0  15  0
c
c Layer 4, radial reflector
9006 c/z  0 0  17.5
9007 rhp  0 0 -136  0 0  68     0  15  0
c
9091 rhp  0 0   68   0 0  68   100   0  0
9092 rhp  0 0    0   0 0  68   100   0  0
9093 rhp  0 0  -68   0 0  68   100   0  0
9094 rhp  0 0 -136   0 0  68   100   0  0
9100 c/z  0 0    6
9101 pz -136
9102 pz  -68
9103 pz    0
9104 pz   68
9105 pz  136
9130 c/z  0 0   134
9131 pz  -204
9132 pz   204
"""

     cells = """c
c Core
9900 9901  -1.75        -9000   u=1001                  imp:n=1
9901 0                  -9001   u=901 lat=2 imp:n=1 fill=-4:4 -4:4 0:0
      1001 1001 1001 1001 1001 1001 1001 1001 1001
       1001 1001 1001 1001 2430 2440 2450 2460 1001
        1001 1001 1001 2420 2190 2200 2210 2470 1001
         1001 1001 2410 2180 2050 2060 2220 2480 1001
          1001 2400 2170 2040 1001 2010 2110 2310 1001
           1001 2390 2160 2030 2020 2120 2320 1001 1001
            1001 2380 2150 2140 2130 2330 1001 1001 1001
             1001 2370 2360 2350 2340 1001 1001 1001 1001
              1001 1001 1001 1001 1001 1001 1001 1001 1001
c
c
9902 9902  -1.75        -9002   u=1002                  imp:n=1
9903 0                  -9003   u=902 lat=2 imp:n=1 fill=-4:4 -4:4 0:0
      1002 1002 1002 1002 1002 1002 1002 1002 1002
       1002 1002 1002 1002 3430 3440 3450 3460 1002
        1002 1002 1002 3420 3190 3200 3210 3470 1002
         1002 1002 3410 3180 3050 3060 3220 3480 1002
          1002 3400 3170 3040 1002 3010 3110 3310 1002
           1002 3390 3160 3030 3020 3120 3320 1002 1002
            1002 3380 3150 3140 3130 3330 1002 1002 1002
             1002 3370 3360 3350 3340 1002 1002 1002 1002
              1002 1002 1002 1002 1002 1002 1002 1002 1002
c
c
9904 9903  -1.75        -9004   u=1003                  imp:n=1
9905 0                  -9005   u=903 lat=2 imp:n=1 fill=-4:4 -4:4 0:0
      1003 1003 1003 1003 1003 1003 1003 1003 1003
       1003 1003 1003 1003 4430 4440 4450 4460 1003
        1003 1003 1003 4420 4190 4200 4210 4470 1003
         1003 1003 4410 4180 4050 4060 4220 4480 1003
          1003 4400 4170 4040 1003 4010 4110 4310 1003
           1003 4390 4160 4030 4020 4120 4320 1003 1003
            1003 4380 4150 4140 4130 4330 1003 1003 1003
             1003 4370 4360 4350 4340 1003 1003 1003 1003
              1003 1003 1003 1003 1003 1003 1003 1003 1003
c
c
9906 9904  -1.75        -9006   u=1004                  imp:n=1
9907 0                  -9007   u=904 lat=2 imp:n=1 fill=-4:4 -4:4 0:0
      1004 1004 1004 1004 1004 1004 1004 1004 1004
       1004 1004 1004 1004 5430 5440 5450 5460 1004
        1004 1004 1004 5420 5190 5200 5210 5470 1004
         1004 1004 5410 5180 5050 5060 5220 5480 1004
          1004 5400 5170 5040 1004 5010 5110 5310 1004
           1004 5390 5160 5030 5020 5120 5320 1004 1004
            1004 5380 5150 5140 5130 5330 1004 1004 1004
             1004 5370 5360 5350 5340 1004 1004 1004 1004
              1004 1004 1004 1004 1004 1004 1004 1004 1004
c
c
9960 1000  -1.5984e-03  -9100  9101 -9105            imp:n=1
9971 0                   9100 -9091 fill=901         imp:n=1
9972 0                   9100 -9092 fill=902         imp:n=1
9973 0                   9100 -9093 fill=903         imp:n=1
9974 0                   9100 -9094 fill=904         imp:n=1
c Top
9990 9950  -1.75        -9130 9105 -9132        vol=3835909.76  imp:n=1
c Layers
9991 9951  -1.75         9091 -9130 9104 -9105  vol=1480320.66  imp:n=1
9992 9952  -1.75         9092 -9130 9103 -9104  vol=1480320.66  imp:n=1
9993 9953  -1.75         9093 -9130 9102 -9103  vol=1480320.66  imp:n=1
9994 9954  -1.75         9094 -9130 9101 -9102  vol=1480320.66  imp:n=1
c Bottom
9995 9955  -1.75        -9130 9131 -9101        vol=3835909.76  imp:n=1
"""

     materials = """c
c Radial reflector - inside hexagon
m9901  $ Graphite Block
      6012.00c   0.9890
      6013.00c   0.0110
mt9901 grph.25t
c
c Radial reflector - inside hexagon
m9902  $ Graphite Block
      6012.00c   0.9890
      6013.00c   0.0110
mt9902 grph.25t
c
c Radial reflector - inside hexagon
m9903  $ Graphite Block
      6012.00c   0.9890
      6013.00c   0.0110
mt9903 grph.25t
c
c Radial reflector - inside hexagon
m9904  $ Graphite Block
      6012.00c   0.9890
      6013.00c   0.0110
mt9904 grph.25t
c
c Top reflector
m9950  $ Graphite Block
      6012.00c   0.9890
      6013.00c   0.0110
mt9950 grph.25t
c
c Radial reflector - Layer 1
m9951  $ Graphite Block
      6012.00c   0.9890
      6013.00c   0.0110
mt9951 grph.25t
c
c Radial reflector - top layer
m9952  $ Graphite Block
      6012.00c   0.9890
      6013.00c   0.0110
mt9952 grph.25t
c
c Radial reflector - top layer
m9953  $ Graphite Block
      6012.00c   0.9890
      6013.00c   0.0110
mt9953 grph.25t
c
c Radial reflector - Layer 1
m9954  $ Graphite Block
      6012.00c   0.9890
      6013.00c   0.0110
mt9954 grph.25t
c
c Bottom reflector
m9955  $ Graphite Block
      6012.00c   0.9890
      6013.00c   0.0110
mt9955 grph.25t
"""

     return cells, surfaces, materials 
